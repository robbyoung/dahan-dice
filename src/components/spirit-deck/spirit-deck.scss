.spirit-deck {
    $num-cards: 8;
    $card-padding: 5;
    $card-width: 208;
    $card-height: 288;


    display: flex;
    flex-direction: row-reverse;
    height: #{$card-height + $card-padding * $num-cards}px;
    width: #{$card-width + $card-padding * $num-cards}px;

    @for $i from 0 to $num-cards {
        .card-#{$i} {
            position: relative;
            &.card-animate-enter-active {
                top: #{$i * $card-padding}px;
                left:  #{$i * -$card-padding}px;
                margin-left: #{-$card-width}px;
                z-index: $i;

                transition: all 0.6s #{$i / 4}s ease;
                animation: card-shuffle 1s #{$i / 4}s
            }

            &.card-animate-enter-done {
                top: #{$i * $card-padding}px;
                left:  #{$i * -$card-padding}px;
                margin-left: #{-$card-width}px;
                z-index: $i;
            }

            &.card-animate-exit, &.card-animate-exit-active, &.card-animate-exit-done {
                top: #{$i * $card-padding}px;
                left:  #{$i * -$card-padding}px;
                margin-left: #{-$card-width}px;
                z-index: $i;
            }
            
            @keyframes card-shuffle {
                0%   { transform: translateX(0px); }
                50%  { transform: translateX(-250px); }
                100%  { transform: translateX(0px); }
            }
        }

        .prev-card-#{$i} {
            &.card-animate-enter {
                position: relative;
                top: #{$i * $card-padding}px;
                left:  #{$i * -$card-padding}px;
                margin-left: #{-$card-width}px;
                z-index: $i;
            }
        }
    }
}